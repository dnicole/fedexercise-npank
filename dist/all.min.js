function callSearchFlickr(e){e.preventDefault(),client(apiKey,userId)}var jsSearchButton,imgTag,jsResults,apiKey="a5e95177da353f58113fd60296e1d250",userId="132365033@N08";window.addEventListener("load",function(){jsSearchButton=document.getElementById("jsSearchButton"),jsResults=document.getElementById("jsResults"),jsSearchButton.addEventListener("click",callSearchFlickr)});var client=function(e,t){var n="https://api.flickr.com/services/rest/?method=flickr.people.getPublicPhotos&api_key="+e+"&user_id="+t+"&format=json&nojsoncallback=1&extras=url_s,url_l",s=new XMLHttpRequest;s.open("get",n,!0),s.onload=function(){if(!(s.status>=200&&s.status<400)){var e=document.createTextNode("Sorry, something went wrong.");throw jsResults.appendChild(e),new Error("No pictures for you!")}showPics(JSON.parse(s.responseText))},s.send()},showPics=function(e){var t=e.photos.photo;t.forEach(function(e){createHtmlTemplate(e)}),jsSearchButton.style.visibility="hidden",createClearButton()},createClearButton=function(){var e,t=document.getElementById("container");void 0===e&&(e=document.createElement("a"),e.className="button do-over",e.setAttribute("href","#"),e.innerText="Start Over");t.insertBefore(e,jsResults);e.addEventListener("click",function(t){for(t.preventDefault();jsResults.firstChild;)jsResults.removeChild(jsResults.firstChild);e.remove(),jsSearchButton.style.visibility="visible"})},createHtmlTemplate=function(e){function t(e){var t,n=document.getElementById("overlay"),s=document.getElementById("modalInner");n.style.visibility="visible",n.focus(),t=document.createElement("img"),t.setAttribute("src",i),s.appendChild(t),n.addEventListener("click",function(){s.removeChild(t),n.style.visibility="hidden"})}var n=document.createElement("div");n.className="picture";var s=document.createElement("p");s.className="title",s.innerText=e.title,n.appendChild(s);var i=document.createElement("a");e.url_l?(i.setAttribute("href",e.url_l),i.className="embiggen",i.addEventListener("click",function(n){n.preventDefault(),t(e)})):i.className="no-api-link",n.appendChild(i);var r=document.createElement("img");r.setAttribute("src",e.url_s),i.appendChild(r),jsResults.appendChild(n)};